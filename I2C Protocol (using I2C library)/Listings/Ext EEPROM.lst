C51 COMPILER V9.60.7.0   EXT_EEPROM                                                        01/15/2025 12:28:54 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE EXT_EEPROM
OBJECT MODULE PLACED IN .\Objects\Ext EEPROM.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE Ext EEPROM.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\Ext EEPROM.lst) TABS(2) OBJECT(.\Objects\Ext EEPROM.obj)

line level    source

   1          #include <reg51.h>
   2          #include "delay.h"
   3          
   4          unsigned int lcd_port=2;      //Specify Port used for rs,en,datapins as global variable
   5          sbit en = P1^1;
   6          sbit rs = P1^0;     //Specify rs and en pins as global variable
   7          
   8          #include "LCD.h"
   9          
  10          sbit SCL = P3^0;
  11          sbit SDA = P3^1;
  12          
  13          #include "I2C.h"
  14          
  15          void main()
  16          {
  17   1        unsigned char x;
  18   1        
  19   1        lcd_init();
  20   1        lcd_setcursor(0,0);
  21   1        lcd_printstring("8051 Project");
  22   1        lcd_setcursor(1,0);
  23   1        lcd_printstring("I2C Protocol");
  24   1        delay(1000);
  25   1        
  26   1        /*Writing Data to slave*/
  27   1        I2C_start();
  28   1        I2C_datawrite(0xA0);   //sending slave address '1010 000-0' (7-bit address + 1-bit R/W ('0'=write, '1'=re
             -ad))
  29   1        I2C_datawrite(0x00);   //sending register's address/memory location address (8-bits address)
  30   1        I2C_datawrite('S');   //Writing Data (8-bits Data) to slave
  31   1        I2C_stop();
  32   1        
  33   1        delay(500);     //Necessasily for distinguishing write and read operations
  34   1        
  35   1        /*Reading Data from slave*/
  36   1        I2C_start();
  37   1        I2C_datawrite(0xA0);   //sending slave address '1010 000-0' (7-bit address + 1-bit R/W ('0'=write, '1'=re
             -ad))
  38   1        I2C_datawrite(0x00);   //sending register's address/memory location address (8-bits address)
  39   1        I2C_start();
  40   1        I2C_datawrite(0xA1);   //sending slave address '1010 000-1' (7-bit address + 1-bit R/W ('0'=write, '1'=re
             -ad))
  41   1        x = I2C_dataread();   //Reading Data (8-bits Data) from slave
  42   1        I2C_stop();
  43   1        
  44   1        lcd_clear();
  45   1        lcd_setcursor(0,0);
  46   1        lcd_printstring("Recieved Data");
  47   1        lcd_setcursor(1,0);
  48   1        lcd_printchar(x);
  49   1        
  50   1        while(1)
  51   1        {
C51 COMPILER V9.60.7.0   EXT_EEPROM                                                        01/15/2025 12:28:54 PAGE 2   

  52   2          //MY CODE
  53   2        }
  54   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    981    ----
   CONSTANT SIZE    =     56    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2      27
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
