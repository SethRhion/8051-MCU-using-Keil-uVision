C51 COMPILER V9.60.7.0   DS1307_INTERFACING                                                01/18/2025 15:16:14 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DS1307_INTERFACING
OBJECT MODULE PLACED IN .\Objects\DS1307 Interfacing.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE DS1307 Interfacing.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\Listings\DS1307 Interfacing.lst) TABS(2) OBJECT(.\Objects\DS1307 Interfacing.obj)

line level    source

   1          #include <reg51.h>
   2          #include "delay.h"
   3          
   4          unsigned int lcd_port=2;      //Specify Port used for rs,en,datapins as global variable
   5          sbit en = P1^1;
   6          sbit rs = P1^0;     //Specify rs and en pins as global variable
   7          
   8          #include "LCD.h"
   9          
  10          sbit SCL = P3^0;
  11          sbit SDA = P3^1;
  12          
  13          #include "I2C.h"
  14          
  15          #include "DS1307.h"
  16          
  17          void main()
  18          {
  19   1        unsigned char sec,min,hour,day,month,year;
  20   1        
  21   1        lcd_init();
  22   1        lcd_setcursor(0,0);
  23   1        lcd_printstring("8051 Project");
  24   1        lcd_setcursor(1,0);
  25   1        lcd_printstring("RTC Interfacing");
  26   1        
  27   1        /* Initilize the RTC(ds1307)*/
  28   1        ds1307_Init();
  29   1       
  30   1        /*set the time and Date only once */
  31   1        ds1307_SetTime(0x23,0x59,0x30);  //Set time  
  32   1        ds1307_SetDate(0x31,0x12,0x19);  //Set Date  
  33   1       
  34   1        delay(1000);
  35   1      
  36   1        lcd_clear();
  37   1        lcd_setcursor(0,0);
  38   1          
  39   1        /* Display "time" on first line*/
  40   1        lcd_printstring("Time: ");
  41   1          
  42   1        /* Display "date" on Second line*/
  43   1        lcd_setcursor(1,0);
  44   1        lcd_printstring("Date: ");
  45   1          
  46   1        
  47   1        /* Display the time and date continously */
  48   1        while(1)
  49   1        {
  50   2          /* Read the Time from RTC(ds1307) */
  51   2          ds1307_GetTime(&hour,&min,&sec);        
  52   2       
  53   2          /* Display the time on firstline 7th position*/
  54   2          lcd_setcursor(0,6);
C51 COMPILER V9.60.7.0   DS1307_INTERFACING                                                01/18/2025 15:16:14 PAGE 2   

  55   2          /*Display hours*/
  56   2          lcd_printnumberXdigits(hour,2);
  57   2          lcd_printchar(':');
  58   2          /*Display mins*/
  59   2          lcd_printnumberXdigits(min,2);
  60   2          lcd_printchar(':');
  61   2          /*Display secs*/
  62   2          lcd_printnumberXdigits(sec,2);
  63   2          
  64   2          /* Read the Date from RTC(ds1307) */
  65   2          ds1307_GetDate(&day,&month,&year);        
  66   2       
  67   2          /* Display the Date on secondline 7th position*/
  68   2          lcd_setcursor(1,6);
  69   2          /*Display date*/
  70   2          lcd_printnumberXdigits(day,2);
  71   2          lcd_printchar('/');
  72   2          /*Display month*/
  73   2          lcd_printnumberXdigits(month,2);
  74   2          lcd_printchar('/');
  75   2          /*Display year*/
  76   2          lcd_printnumberXdigits(year,2);
  77   2        }
  78   1      
  79   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1680    ----
   CONSTANT SIZE    =     59    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2      68
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
